name: Build package

runs:
  using: "composite"
  steps:
    - id: detect_build_scripts
      uses: ${{ github.action_repository }}/actions/detect-build-scripts@${{ github.action_ref }}

    - if: ${{ contains(fromJSON(steps.detect_build_scripts.outputs.scripts), 'build') }}
      uses: ./actions/build-npm
    
    - if: ${{ contains(fromJSON(steps.detect_build_scripts.outputs.scripts), 'build-docker') }}
      uses: ./actions/build-docker
